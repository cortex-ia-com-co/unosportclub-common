{"hash":"56a937bcac5b3e5988f04b5568a2c81a4ffcf36300ec13e6dd299cd420c198f9","types":[{"exports":["AccountBookingInterface","AccountBookingPaymentInterface","AccountPaymentInterface","AuthClientInterface","AuthService","AuthServiceConfig","BookingInterface","CalculatePriceResponseInterface","ClientCreateDataInterface","ClientInterface","ClientListFiltersInterface","CourtInterface","CourtTypeInterface","DashboardStatsInterface","DashboardStatsWithRecentInterface","DocumentTypeInterface","ErrorResponseInterface","FirebaseUserInterface","HttpError","JoinRoomResponse","PaymentInterface","PaymentListFiltersInterface","PaymentStatsInterface","PaymentTypeInterface","Permissions","RecurrenceConfigInterface","RecurrenceFrequencyType","RelayService","RelayServiceConfig","ReservationStatusInterface","ReservationTypeInterface","TariffClassInterface","TariffInterface","Toast","ToastContainerComponent","ToastService","ToastType","UserClaimsInterface","UserInterface","UserPermissionsInterface","UsersListResponseInterface","extractErrorMessage"],"facadeModuleId":"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/common.d.ts","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/reservation-status.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/payment.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/booking.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/account-booking.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/client.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/court.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/court-type.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/document-type.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/account-payment.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/payment-type.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/reservation-type.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/tariff.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/tariff-class.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/price-calculation.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/dashboard.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/user.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/recurrence.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/errors/errors.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/tools/tools.interface.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/services/auth.service.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/services/relay.service.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/services/toast.service.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/components/toast-container/toast-container.component.d.ts","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/common.d.ts"],"name":"common.d","type":"chunk","dynamicImports":[],"fileName":"common.d.ts","implicitlyLoadedBefore":[],"importedBindings":{"@angular/common/http":["HttpErrorResponse"],"@angular/core":["*","OnDestroy"],"@angular/fire/auth":["User"],"rxjs":["Observable"],"common":["*"]},"imports":["@angular/common/http","@angular/core","@angular/fire/auth","rxjs","common"],"modules":{"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/reservation-status.interface.d.ts":{"code":"interface ReservationStatusInterface {\n    id?: number | null;\n    name?: string | null;\n    color: string;\n    description: string;\n}","originalLength":142,"removedExports":[],"renderedExports":["ReservationStatusInterface"],"renderedLength":134},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/payment.interface.d.ts":{"code":"interface PaymentInterface {\n    id: number;\n    reservation_id: number | null;\n    payment_type_id?: number | null;\n    amount: number;\n    transaction_id: string | null;\n    gateway_response?: string | null;\n    status: boolean;\n    date: string | null;\n    description?: string | null;\n}","originalLength":298,"removedExports":[],"renderedExports":["PaymentInterface"],"renderedLength":290},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/booking.interface.d.ts":{"code":"interface BookingInterface {\n    id?: number;\n    client_id: number | null;\n    court_id: number;\n    reservation_type_id: number;\n    reservation_status_id?: number | null;\n    checking: string | null;\n    checkout: string | null;\n    notes?: string | null;\n    created_at?: string | null;\n    updated_at?: string | null;\n    client_name?: string | null;\n    client_first_name?: string | null;\n    client_last_name?: string | null;\n    client_email?: string | null;\n    client_phone?: string | null;\n    client_document?: string | null;\n    client_address?: string | null;\n    court_name?: string | null;\n    court_base_price?: number | null;\n    court_type_name?: string | null;\n    reservation_type_name?: string | null;\n    reservation_status?: ReservationStatusInterface | null;\n    payments?: PaymentInterface[];\n}","originalLength":961,"removedExports":[],"renderedExports":["BookingInterface"],"renderedLength":820},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/account-booking.interface.d.ts":{"code":"interface AccountBookingPaymentInterface {\n    id: number;\n    reservation_id: number;\n    payment_type_id?: number | null;\n    payment_type_name?: string | null;\n    amount: number;\n    transaction_id: string | null;\n    gateway_response?: string | null;\n    status: 'pending' | 'completed';\n    statusBoolean: boolean;\n    date: string | null;\n    description?: string | null;\n}\ninterface AccountBookingInterface extends Omit<BookingInterface, 'payments'> {\n    total_paid: number;\n    total_amount: number;\n    is_payment_complete: boolean;\n    can_add_payment: boolean;\n    payments?: AccountBookingPaymentInterface[];\n}","originalLength":695,"removedExports":[],"renderedExports":["AccountBookingPaymentInterface","AccountBookingInterface"],"renderedLength":624},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/client.interface.d.ts":{"code":"interface ClientInterface {\n    id: number;\n    user_id: number;\n    email: string;\n    display_name?: string | null;\n    email_verified: boolean;\n    first_name?: string | null;\n    last_name?: string | null;\n    phone_number?: string | null;\n    document?: string | null;\n    document_type_id?: number | null;\n    document_type_name?: string | null;\n    address?: string | null;\n    is_available?: boolean | null;\n    phone?: string | null;\n}","originalLength":452,"removedExports":[],"renderedExports":["ClientInterface"],"renderedLength":444},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/court.interface.d.ts":{"code":"interface CourtInterface {\n    id?: number;\n    court_type_id: number;\n    name: string;\n    cost?: number;\n    price?: number;\n    court_type_name?: string | null;\n}","originalLength":174,"removedExports":[],"renderedExports":["CourtInterface"],"renderedLength":166},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/court-type.interface.d.ts":{"code":"interface CourtTypeInterface {\n    id?: number;\n    name: string;\n    description: string;\n    created_at?: string;\n}","originalLength":125,"removedExports":[],"renderedExports":["CourtTypeInterface"],"renderedLength":117},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/document-type.interface.d.ts":{"code":"interface DocumentTypeInterface {\n    id?: number;\n    name: string;\n    description: string;\n}","originalLength":103,"removedExports":[],"renderedExports":["DocumentTypeInterface"],"renderedLength":95},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/account-payment.interface.d.ts":{"code":"interface AccountPaymentInterface extends PaymentInterface {\n    court_name?: string | null;\n    checking?: string | null;\n    checkout?: string | null;\n}","originalLength":218,"removedExports":[],"renderedExports":["AccountPaymentInterface"],"renderedLength":154},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/payment-type.interface.d.ts":{"code":"interface PaymentTypeInterface {\n    id?: number;\n    name: string;\n    description: string;\n}","originalLength":102,"removedExports":[],"renderedExports":["PaymentTypeInterface"],"renderedLength":94},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/reservation-type.interface.d.ts":{"code":"interface ReservationTypeInterface {\n    id?: number;\n    name: string;\n    description?: string;\n}","originalLength":107,"removedExports":[],"renderedExports":["ReservationTypeInterface"],"renderedLength":99},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/tariff.interface.d.ts":{"code":"interface TariffInterface {\n    id?: number;\n    court_id?: number | null;\n    reservation_type_id?: number | null;\n    rrule?: string | null;\n    start_date?: string | null;\n    start_time?: string | null;\n    end_date?: string | null;\n    end_time?: string | null;\n    adjustment: string;\n    description?: string | null;\n    is_active: boolean;\n    created_at?: string;\n    updated_at?: string;\n}","originalLength":407,"removedExports":[],"renderedExports":["TariffInterface"],"renderedLength":399},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/tariff-class.interface.d.ts":{"code":"interface TariffClassInterface {\n    id?: number;\n    court_type_id: number;\n    reservation_type_id: number;\n    single_price: number;\n    total_price: number;\n    max_capacity: number;\n    created_at?: string;\n    updated_at?: string;\n    court_type_name?: string | null;\n    reservation_type_name?: string | null;\n}","originalLength":326,"removedExports":[],"renderedExports":["TariffClassInterface"],"renderedLength":318},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/price-calculation.interface.d.ts":{"code":"interface CalculatePriceResponseInterface {\n    court: {\n        id: number;\n        name: string;\n        base_price: number;\n    };\n    date: string;\n    checking: string;\n    checkout: string;\n    available?: boolean;\n    hours?: number;\n    price_per_hour?: number;\n    final_price: number;\n    applied_adjustments: Array<{\n        tariff_id: number;\n        description: string;\n        adjustment: string;\n        adjusted_price: number;\n    }>;\n}","originalLength":461,"removedExports":[],"renderedExports":["CalculatePriceResponseInterface"],"renderedLength":453},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/dashboard.interface.d.ts":{"code":"interface DashboardStatsInterface {\n    clients: {\n        total: number;\n        verified: number;\n        unverified: number;\n    };\n    courts: {\n        total: number;\n    };\n    reservations: {\n        total: number;\n        today: number;\n        this_week: number;\n        this_month: number;\n    };\n    payments: {\n        total: number;\n        total_amount: number;\n        completed_amount: number;\n        pending: number;\n    };\n}\ninterface DashboardStatsWithRecentInterface extends DashboardStatsInterface {\n    recent_reservations?: Array<{\n        id: number;\n        checking: string | null;\n        checkout: string | null;\n        created_at: string | null;\n        court_name: string | null;\n        client_email: string | null;\n        client_name: string | null;\n    }>;\n    recent_payments?: Array<{\n        id: number;\n        amount: number;\n        transaction_id: string;\n        status: string;\n        date: string;\n        description: string | null;\n        reservation_id: number | null;\n    }>;\n}\ninterface PaymentStatsInterface {\n    total: number;\n    by_status: {\n        pending?: number;\n        completed?: number;\n        failed?: number;\n        refunded?: number;\n    };\n    total_amount: number;\n    completed_amount: number;\n    orphan_payments: number;\n}","originalLength":1321,"removedExports":[],"renderedExports":["DashboardStatsInterface","DashboardStatsWithRecentInterface","PaymentStatsInterface"],"renderedLength":1299},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/user.interface.d.ts":{"code":"interface UserInterface {\n    id: number;\n    firebase_id: string;\n    email?: string | null;\n    email_verified: boolean;\n    display_name?: string | null;\n    phone_number?: string | null;\n    disabled: boolean;\n    creation_time?: string | null;\n    last_sign_in_time?: string | null;\n    last_refresh_time?: string | null;\n    tokens_valid_after_time?: string | null;\n}\ninterface FirebaseUserInterface {\n    uid: string;\n    email: string;\n    emailVerified: boolean;\n    displayName?: string;\n    disabled: boolean;\n    metadata: {\n        creationTime?: string;\n        lastSignInTime?: string;\n    };\n}\ninterface UsersListResponseInterface {\n    users: FirebaseUserInterface[];\n    pageToken?: string;\n    total: number;\n}\ninterface UserClaimsInterface {\n    operator?: boolean;\n    admin?: boolean;\n    sudo?: boolean;\n    [key: string]: unknown;\n}\ninterface UserPermissionsInterface {\n    isOperator: boolean;\n    isAdmin: boolean;\n    isSudo: boolean;\n    hasAnyRole: boolean;\n    hasPanelAccess: boolean;\n}","originalLength":1053,"removedExports":[],"renderedExports":["UserInterface","FirebaseUserInterface","UsersListResponseInterface","UserClaimsInterface","UserPermissionsInterface"],"renderedLength":1017},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/models/recurrence.interface.d.ts":{"code":"type RecurrenceFrequencyType = 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'YEARLY' | 'NONE';\ninterface RecurrenceConfigInterface {\n    frequency: RecurrenceFrequencyType;\n    interval: number;\n    byDay?: string[];\n    byMonthDay?: number[];\n    byMonth?: number[];\n    count?: number;\n    until?: string;\n}","originalLength":312,"removedExports":[],"renderedExports":["RecurrenceFrequencyType","RecurrenceConfigInterface"],"renderedLength":297},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/errors/errors.interface.d.ts":{"code":"interface ErrorResponseInterface {\n    error: string;\n    message?: string;\n    stack?: string;\n}\ninterface HttpError {\n    status: number;\n    statusText: string;\n    message: string;\n    error: ErrorResponseInterface;\n    originalError: HttpErrorResponse;\n    context?: {\n        resource?: string;\n        operation?: string;\n        isSearch?: boolean;\n    };\n}\ndeclare function extractErrorMessage(error: HttpErrorResponse | Error | HttpError | unknown): string;","originalLength":547,"removedExports":[],"renderedExports":["ErrorResponseInterface","HttpError","extractErrorMessage"],"renderedLength":467},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/tools/tools.interface.d.ts":{"code":"interface ClientListFiltersInterface {\n    search?: string;\n    limit: number;\n    offset: number;\n}\ninterface ClientCreateDataInterface {\n    id?: number;\n    user_id?: number;\n    first_name: string;\n    last_name: string;\n    document: string;\n    document_type_id: number;\n    address?: string;\n    email?: string;\n    display_name?: string;\n    email_verified?: boolean;\n    phone_number?: string;\n    document_type_name?: string;\n}\ninterface PaymentListFiltersInterface {\n    search?: string;\n    status?: string;\n    reservation_id?: number;\n    limit: number;\n    offset: number;\n}","originalLength":611,"removedExports":[],"renderedExports":["ClientListFiltersInterface","ClientCreateDataInterface","PaymentListFiltersInterface"],"renderedLength":589},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/services/auth.service.d.ts":{"code":"interface AuthClientInterface {\n    first_name: string;\n    last_name: string;\n    document: string;\n    document_type_id: number;\n    display_name?: string;\n    email: string;\n    phone_number?: string;\n    [key: string]: unknown;\n}\ninterface AuthServiceConfig {\n    apiUrl: string;\n    allowedDomain?: string;\n    enablePermissions?: boolean;\n    enableClientRegistration?: boolean;\n    enableSignalCurrentUser?: boolean;\n}\ninterface Permissions {\n    isOperator: boolean;\n    isAdmin: boolean;\n    isSudo: boolean;\n    isTrainer: boolean;\n    hasAnyRole: boolean;\n    hasPanelAccess: boolean;\n}\ndeclare class AuthService {\n    private readonly auth;\n    private readonly http;\n    private config;\n    private readonly permissionsSubject;\n    readonly authState$: Observable<User | null>;\n    readonly permissions$: Observable<Permissions>;\n    readonly currentUserSignal: i0.WritableSignal<User>;\n    constructor();\n    initialize(config: AuthServiceConfig): void;\n    private updatePermissions;\n    hasAllowedDomain(): boolean;\n    checkPermissions(): Permissions;\n    getCurrentClaims(): Record<string, unknown> | null;\n    isAdmin(): Observable<boolean>;\n    hasPanelAccess(): Observable<boolean>;\n    isTrainer(): Observable<boolean>;\n    register(email: string, password: string, clientData: AuthClientInterface): Observable<void>;\n    registerClient(token: string, user: User, client: AuthClientInterface): Observable<unknown>;\n    login(email: string, password: string): Observable<void>;\n    logout(): Observable<void>;\n    sendPasswordResetEmail(email: string): Observable<void>;\n    updatePassword(newPassword: string, currentPassword?: string): Observable<void>;\n    confirmPasswordReset(oobCode: string, newPassword: string): Observable<void>;\n    refreshToken(): Observable<string>;\n    get currentUser(): User | null;\n    static ɵfac: i0.ɵɵFactoryDeclaration<AuthService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<AuthService>;\n}","originalLength":2122,"removedExports":[],"renderedExports":["AuthClientInterface","AuthServiceConfig","Permissions","AuthService"],"renderedLength":1957},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/services/relay.service.d.ts":{"code":"interface RelayServiceConfig {\n    relayUrl: string;\n    apiUrl: string;\n}\ninterface JoinRoomResponse {\n    success: boolean;\n    message?: string;\n}\ndeclare class RelayService implements OnDestroy {\n    private readonly authService;\n    private config;\n    private socket;\n    private readonly readySubject;\n    private readonly systemEventsSubject;\n    private readonly destroy$;\n    readonly ready$: Observable<boolean>;\n    readonly systemEvents$: Observable<unknown>;\n    initialize(authService: AuthService, config: RelayServiceConfig): void;\n    private connect;\n    private connectSocket;\n    private disconnect;\n    joinRoom(room: string, callback: (response: JoinRoomResponse) => void): void;\n    private emitJoinRoom;\n    identify(userId: string, callback?: (response: {\n        success: boolean;\n    }) => void): void;\n    notify(data: unknown, destino: 'yo' | 'ustedes' | 'nosotros' | 'room', room?: string): void;\n    sendMessage(data: unknown, destino: 'yo' | 'ustedes' | 'nosotros' | 'room', room?: string): void;\n    ngOnDestroy(): void;\n    static ɵfac: i0.ɵɵFactoryDeclaration<RelayService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<RelayService>;\n}","originalLength":1362,"removedExports":[],"renderedExports":["RelayServiceConfig","JoinRoomResponse","RelayService"],"renderedLength":1179},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/services/toast.service.d.ts":{"code":"type ToastType = 'success' | 'error' | 'warning' | 'info';\ninterface Toast {\n    id: string;\n    message: string;\n    type: ToastType;\n}\ndeclare class ToastService {\n    private toasts;\n    success(message: string): void;\n    error(message: string): void;\n    warning(message: string): void;\n    info(message: string): void;\n    private show;\n    dismiss(id: string): void;\n    getToasts(): i0.Signal<Toast[]>;\n    static ɵfac: i0.ɵɵFactoryDeclaration<ToastService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<ToastService>;\n}","originalLength":615,"removedExports":[],"renderedExports":["ToastType","Toast","ToastService"],"renderedLength":535},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/lib/components/toast-container/toast-container.component.d.ts":{"code":"declare class ToastContainerComponent {\n    private toastService;\n    toasts: i0.Signal<common.Toast[]>;\n    dismiss(id: string): void;\n    getToastClasses(type: ToastType): string;\n    static ɵfac: i0.ɵɵFactoryDeclaration<ToastContainerComponent, never>;\n    static ɵcmp: i0.ɵɵComponentDeclaration<ToastContainerComponent, \"ust-toast-container\", never, {}, {}, never, never, true, never>;\n}","originalLength":525,"removedExports":[],"renderedExports":["ToastContainerComponent"],"renderedLength":391},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-typings/common.d.ts":{"code":null,"originalLength":111,"removedExports":[],"renderedExports":[],"renderedLength":0}},"referencedFiles":[],"code":"import { HttpErrorResponse } from '@angular/common/http';\nimport * as i0 from '@angular/core';\nimport { OnDestroy } from '@angular/core';\nimport { User } from '@angular/fire/auth';\nimport { Observable } from 'rxjs';\nimport * as common from 'common';\n\ninterface ReservationStatusInterface {\n    id?: number | null;\n    name?: string | null;\n    color: string;\n    description: string;\n}\n\ninterface PaymentInterface {\n    id: number;\n    reservation_id: number | null;\n    payment_type_id?: number | null;\n    amount: number;\n    transaction_id: string | null;\n    gateway_response?: string | null;\n    status: boolean;\n    date: string | null;\n    description?: string | null;\n}\n\ninterface BookingInterface {\n    id?: number;\n    client_id: number | null;\n    court_id: number;\n    reservation_type_id: number;\n    reservation_status_id?: number | null;\n    checking: string | null;\n    checkout: string | null;\n    notes?: string | null;\n    created_at?: string | null;\n    updated_at?: string | null;\n    client_name?: string | null;\n    client_first_name?: string | null;\n    client_last_name?: string | null;\n    client_email?: string | null;\n    client_phone?: string | null;\n    client_document?: string | null;\n    client_address?: string | null;\n    court_name?: string | null;\n    court_base_price?: number | null;\n    court_type_name?: string | null;\n    reservation_type_name?: string | null;\n    reservation_status?: ReservationStatusInterface | null;\n    payments?: PaymentInterface[];\n}\n\ninterface AccountBookingPaymentInterface {\n    id: number;\n    reservation_id: number;\n    payment_type_id?: number | null;\n    payment_type_name?: string | null;\n    amount: number;\n    transaction_id: string | null;\n    gateway_response?: string | null;\n    status: 'pending' | 'completed';\n    statusBoolean: boolean;\n    date: string | null;\n    description?: string | null;\n}\ninterface AccountBookingInterface extends Omit<BookingInterface, 'payments'> {\n    total_paid: number;\n    total_amount: number;\n    is_payment_complete: boolean;\n    can_add_payment: boolean;\n    payments?: AccountBookingPaymentInterface[];\n}\n\ninterface ClientInterface {\n    id: number;\n    user_id: number;\n    email: string;\n    display_name?: string | null;\n    email_verified: boolean;\n    first_name?: string | null;\n    last_name?: string | null;\n    phone_number?: string | null;\n    document?: string | null;\n    document_type_id?: number | null;\n    document_type_name?: string | null;\n    address?: string | null;\n    is_available?: boolean | null;\n    phone?: string | null;\n}\n\ninterface CourtInterface {\n    id?: number;\n    court_type_id: number;\n    name: string;\n    cost?: number;\n    price?: number;\n    court_type_name?: string | null;\n}\n\ninterface CourtTypeInterface {\n    id?: number;\n    name: string;\n    description: string;\n    created_at?: string;\n}\n\ninterface DocumentTypeInterface {\n    id?: number;\n    name: string;\n    description: string;\n}\n\ninterface AccountPaymentInterface extends PaymentInterface {\n    court_name?: string | null;\n    checking?: string | null;\n    checkout?: string | null;\n}\n\ninterface PaymentTypeInterface {\n    id?: number;\n    name: string;\n    description: string;\n}\n\ninterface ReservationTypeInterface {\n    id?: number;\n    name: string;\n    description?: string;\n}\n\ninterface TariffInterface {\n    id?: number;\n    court_id?: number | null;\n    reservation_type_id?: number | null;\n    rrule?: string | null;\n    start_date?: string | null;\n    start_time?: string | null;\n    end_date?: string | null;\n    end_time?: string | null;\n    adjustment: string;\n    description?: string | null;\n    is_active: boolean;\n    created_at?: string;\n    updated_at?: string;\n}\n\ninterface TariffClassInterface {\n    id?: number;\n    court_type_id: number;\n    reservation_type_id: number;\n    single_price: number;\n    total_price: number;\n    max_capacity: number;\n    created_at?: string;\n    updated_at?: string;\n    court_type_name?: string | null;\n    reservation_type_name?: string | null;\n}\n\ninterface CalculatePriceResponseInterface {\n    court: {\n        id: number;\n        name: string;\n        base_price: number;\n    };\n    date: string;\n    checking: string;\n    checkout: string;\n    available?: boolean;\n    hours?: number;\n    price_per_hour?: number;\n    final_price: number;\n    applied_adjustments: Array<{\n        tariff_id: number;\n        description: string;\n        adjustment: string;\n        adjusted_price: number;\n    }>;\n}\n\ninterface DashboardStatsInterface {\n    clients: {\n        total: number;\n        verified: number;\n        unverified: number;\n    };\n    courts: {\n        total: number;\n    };\n    reservations: {\n        total: number;\n        today: number;\n        this_week: number;\n        this_month: number;\n    };\n    payments: {\n        total: number;\n        total_amount: number;\n        completed_amount: number;\n        pending: number;\n    };\n}\ninterface DashboardStatsWithRecentInterface extends DashboardStatsInterface {\n    recent_reservations?: Array<{\n        id: number;\n        checking: string | null;\n        checkout: string | null;\n        created_at: string | null;\n        court_name: string | null;\n        client_email: string | null;\n        client_name: string | null;\n    }>;\n    recent_payments?: Array<{\n        id: number;\n        amount: number;\n        transaction_id: string;\n        status: string;\n        date: string;\n        description: string | null;\n        reservation_id: number | null;\n    }>;\n}\ninterface PaymentStatsInterface {\n    total: number;\n    by_status: {\n        pending?: number;\n        completed?: number;\n        failed?: number;\n        refunded?: number;\n    };\n    total_amount: number;\n    completed_amount: number;\n    orphan_payments: number;\n}\n\ninterface UserInterface {\n    id: number;\n    firebase_id: string;\n    email?: string | null;\n    email_verified: boolean;\n    display_name?: string | null;\n    phone_number?: string | null;\n    disabled: boolean;\n    creation_time?: string | null;\n    last_sign_in_time?: string | null;\n    last_refresh_time?: string | null;\n    tokens_valid_after_time?: string | null;\n}\ninterface FirebaseUserInterface {\n    uid: string;\n    email: string;\n    emailVerified: boolean;\n    displayName?: string;\n    disabled: boolean;\n    metadata: {\n        creationTime?: string;\n        lastSignInTime?: string;\n    };\n}\ninterface UsersListResponseInterface {\n    users: FirebaseUserInterface[];\n    pageToken?: string;\n    total: number;\n}\ninterface UserClaimsInterface {\n    operator?: boolean;\n    admin?: boolean;\n    sudo?: boolean;\n    [key: string]: unknown;\n}\ninterface UserPermissionsInterface {\n    isOperator: boolean;\n    isAdmin: boolean;\n    isSudo: boolean;\n    hasAnyRole: boolean;\n    hasPanelAccess: boolean;\n}\n\ntype RecurrenceFrequencyType = 'DAILY' | 'WEEKLY' | 'MONTHLY' | 'YEARLY' | 'NONE';\ninterface RecurrenceConfigInterface {\n    frequency: RecurrenceFrequencyType;\n    interval: number;\n    byDay?: string[];\n    byMonthDay?: number[];\n    byMonth?: number[];\n    count?: number;\n    until?: string;\n}\n\ninterface ErrorResponseInterface {\n    error: string;\n    message?: string;\n    stack?: string;\n}\ninterface HttpError {\n    status: number;\n    statusText: string;\n    message: string;\n    error: ErrorResponseInterface;\n    originalError: HttpErrorResponse;\n    context?: {\n        resource?: string;\n        operation?: string;\n        isSearch?: boolean;\n    };\n}\ndeclare function extractErrorMessage(error: HttpErrorResponse | Error | HttpError | unknown): string;\n\ninterface ClientListFiltersInterface {\n    search?: string;\n    limit: number;\n    offset: number;\n}\ninterface ClientCreateDataInterface {\n    id?: number;\n    user_id?: number;\n    first_name: string;\n    last_name: string;\n    document: string;\n    document_type_id: number;\n    address?: string;\n    email?: string;\n    display_name?: string;\n    email_verified?: boolean;\n    phone_number?: string;\n    document_type_name?: string;\n}\ninterface PaymentListFiltersInterface {\n    search?: string;\n    status?: string;\n    reservation_id?: number;\n    limit: number;\n    offset: number;\n}\n\ninterface AuthClientInterface {\n    first_name: string;\n    last_name: string;\n    document: string;\n    document_type_id: number;\n    display_name?: string;\n    email: string;\n    phone_number?: string;\n    [key: string]: unknown;\n}\ninterface AuthServiceConfig {\n    apiUrl: string;\n    allowedDomain?: string;\n    enablePermissions?: boolean;\n    enableClientRegistration?: boolean;\n    enableSignalCurrentUser?: boolean;\n}\ninterface Permissions {\n    isOperator: boolean;\n    isAdmin: boolean;\n    isSudo: boolean;\n    isTrainer: boolean;\n    hasAnyRole: boolean;\n    hasPanelAccess: boolean;\n}\ndeclare class AuthService {\n    private readonly auth;\n    private readonly http;\n    private config;\n    private readonly permissionsSubject;\n    readonly authState$: Observable<User | null>;\n    readonly permissions$: Observable<Permissions>;\n    readonly currentUserSignal: i0.WritableSignal<User>;\n    constructor();\n    initialize(config: AuthServiceConfig): void;\n    private updatePermissions;\n    hasAllowedDomain(): boolean;\n    checkPermissions(): Permissions;\n    getCurrentClaims(): Record<string, unknown> | null;\n    isAdmin(): Observable<boolean>;\n    hasPanelAccess(): Observable<boolean>;\n    isTrainer(): Observable<boolean>;\n    register(email: string, password: string, clientData: AuthClientInterface): Observable<void>;\n    registerClient(token: string, user: User, client: AuthClientInterface): Observable<unknown>;\n    login(email: string, password: string): Observable<void>;\n    logout(): Observable<void>;\n    sendPasswordResetEmail(email: string): Observable<void>;\n    updatePassword(newPassword: string, currentPassword?: string): Observable<void>;\n    confirmPasswordReset(oobCode: string, newPassword: string): Observable<void>;\n    refreshToken(): Observable<string>;\n    get currentUser(): User | null;\n    static ɵfac: i0.ɵɵFactoryDeclaration<AuthService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<AuthService>;\n}\n\ninterface RelayServiceConfig {\n    relayUrl: string;\n    apiUrl: string;\n}\ninterface JoinRoomResponse {\n    success: boolean;\n    message?: string;\n}\ndeclare class RelayService implements OnDestroy {\n    private readonly authService;\n    private config;\n    private socket;\n    private readonly readySubject;\n    private readonly systemEventsSubject;\n    private readonly destroy$;\n    readonly ready$: Observable<boolean>;\n    readonly systemEvents$: Observable<unknown>;\n    initialize(authService: AuthService, config: RelayServiceConfig): void;\n    private connect;\n    private connectSocket;\n    private disconnect;\n    joinRoom(room: string, callback: (response: JoinRoomResponse) => void): void;\n    private emitJoinRoom;\n    identify(userId: string, callback?: (response: {\n        success: boolean;\n    }) => void): void;\n    notify(data: unknown, destino: 'yo' | 'ustedes' | 'nosotros' | 'room', room?: string): void;\n    sendMessage(data: unknown, destino: 'yo' | 'ustedes' | 'nosotros' | 'room', room?: string): void;\n    ngOnDestroy(): void;\n    static ɵfac: i0.ɵɵFactoryDeclaration<RelayService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<RelayService>;\n}\n\ntype ToastType = 'success' | 'error' | 'warning' | 'info';\ninterface Toast {\n    id: string;\n    message: string;\n    type: ToastType;\n}\ndeclare class ToastService {\n    private toasts;\n    success(message: string): void;\n    error(message: string): void;\n    warning(message: string): void;\n    info(message: string): void;\n    private show;\n    dismiss(id: string): void;\n    getToasts(): i0.Signal<Toast[]>;\n    static ɵfac: i0.ɵɵFactoryDeclaration<ToastService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<ToastService>;\n}\n\ndeclare class ToastContainerComponent {\n    private toastService;\n    toasts: i0.Signal<common.Toast[]>;\n    dismiss(id: string): void;\n    getToastClasses(type: ToastType): string;\n    static ɵfac: i0.ɵɵFactoryDeclaration<ToastContainerComponent, never>;\n    static ɵcmp: i0.ɵɵComponentDeclaration<ToastContainerComponent, \"ust-toast-container\", never, {}, {}, never, never, true, never>;\n}\n\nexport { AuthService, RelayService, ToastContainerComponent, ToastService, extractErrorMessage };\nexport type { AccountBookingInterface, AccountBookingPaymentInterface, AccountPaymentInterface, AuthClientInterface, AuthServiceConfig, BookingInterface, CalculatePriceResponseInterface, ClientCreateDataInterface, ClientInterface, ClientListFiltersInterface, CourtInterface, CourtTypeInterface, DashboardStatsInterface, DashboardStatsWithRecentInterface, DocumentTypeInterface, ErrorResponseInterface, FirebaseUserInterface, HttpError, JoinRoomResponse, PaymentInterface, PaymentListFiltersInterface, PaymentStatsInterface, PaymentTypeInterface, Permissions, RecurrenceConfigInterface, RecurrenceFrequencyType, RelayServiceConfig, ReservationStatusInterface, ReservationTypeInterface, TariffClassInterface, TariffInterface, Toast, ToastType, UserClaimsInterface, UserInterface, UserPermissionsInterface, UsersListResponseInterface };\n","map":null,"preliminaryFileName":"common.d.ts","sourcemapFileName":null}],"fesm2022":[{"exports":["AuthService","RelayService","ToastContainerComponent","ToastService","extractErrorMessage"],"facadeModuleId":"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/common.js","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/booking.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/account-booking.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/client.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/court.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/court-type.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/document-type.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/payment.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/account-payment.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/payment-type.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/reservation-status.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/reservation-type.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/tariff.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/tariff-class.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/price-calculation.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/dashboard.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/user.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/recurrence.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/index.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/errors/errors.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/errors/index.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/tools/tools.interface.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/tools/index.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/auth.service.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/relay.service.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/toast.service.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/index.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/components/toast-container/toast-container.component.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/components/toast-container/index.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/public-api.js","/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/common.js"],"name":"common","type":"chunk","dynamicImports":[],"fileName":"common.mjs","implicitlyLoadedBefore":[],"importedBindings":{"@angular/common/http":["HttpErrorResponse","HttpClient","HttpHeaders"],"@angular/core":["inject","signal","*","Injectable","ChangeDetectionStrategy","Component"],"@angular/fire/auth":["Auth","authState","createUserWithEmailAndPassword","updateProfile","signInWithEmailAndPassword","signOut","sendPasswordResetEmail","EmailAuthProvider","reauthenticateWithCredential","updatePassword","confirmPasswordReset"],"rxjs":["BehaviorSubject","from","switchMap","Subject"],"rxjs/operators":["map","switchMap","takeUntil","filter","take"],"socket.io-client":["io"],"@angular/common":["CommonModule"]},"imports":["@angular/common/http","@angular/core","@angular/fire/auth","rxjs","rxjs/operators","socket.io-client","@angular/common"],"modules":{"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/booking.interface.js":{"code":"","originalLength":56,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/account-booking.interface.js":{"code":"","originalLength":64,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/client.interface.js":{"code":"","originalLength":55,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/court.interface.js":{"code":"","originalLength":54,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/court-type.interface.js":{"code":"","originalLength":59,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/document-type.interface.js":{"code":"","originalLength":62,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/payment.interface.js":{"code":"","originalLength":56,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/account-payment.interface.js":{"code":"","originalLength":64,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/payment-type.interface.js":{"code":"","originalLength":61,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/reservation-status.interface.js":{"code":"","originalLength":67,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/reservation-type.interface.js":{"code":"","originalLength":65,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/tariff.interface.js":{"code":"","originalLength":55,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/tariff-class.interface.js":{"code":"","originalLength":61,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/price-calculation.interface.js":{"code":"","originalLength":66,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/dashboard.interface.js":{"code":"","originalLength":58,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/user.interface.js":{"code":"","originalLength":53,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/recurrence.interface.js":{"code":"","originalLength":59,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/models/index.js":{"code":"","originalLength":725,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/errors/errors.interface.js":{"code":"function extractErrorMessage(error) {\n    if (error instanceof HttpErrorResponse) {\n        if (error.error) {\n            if (typeof error.error === 'string') {\n                return error.error;\n            }\n            if (typeof error.error === 'object' && error.error !== null) {\n                const errorObj = error.error;\n                return (errorObj.message || errorObj.error || error.message || 'Error al procesar la solicitud');\n            }\n        }\n        return error.message || 'Error al procesar la solicitud';\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error === 'object' && error !== null && 'message' in error) {\n        const errorObj = error;\n        return errorObj.message;\n    }\n    return 'Error desconocido';\n}","originalLength":904,"removedExports":[],"renderedExports":["extractErrorMessage"],"renderedLength":794},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/errors/index.js":{"code":"","originalLength":69,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/tools/tools.interface.js":{"code":"","originalLength":54,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/tools/index.js":{"code":"","originalLength":68,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/auth.service.js":{"code":"class AuthService {\n    auth = inject(Auth);\n    http = inject(HttpClient);\n    config = null;\n    permissionsSubject = new BehaviorSubject({\n        isOperator: false,\n        isAdmin: false,\n        isSudo: false,\n        isTrainer: false,\n        hasAnyRole: false,\n        hasPanelAccess: false,\n    });\n    authState$ = authState(this.auth);\n    permissions$ = this.permissionsSubject.asObservable();\n    currentUserSignal = signal(null, ...(ngDevMode ? [{ debugName: \"currentUserSignal\" }] : []));\n    constructor() {\n        this.authState$.subscribe((user) => {\n            this.currentUserSignal.set(user);\n            if (this.config?.enablePermissions) {\n                this.updatePermissions(user);\n            }\n        });\n    }\n    initialize(config) {\n        this.config = config;\n        if (config.enablePermissions) {\n            this.updatePermissions(this.auth.currentUser);\n        }\n    }\n    updatePermissions(user) {\n        if (!user) {\n            this.permissionsSubject.next({\n                isOperator: false,\n                isAdmin: false,\n                isSudo: false,\n                isTrainer: false,\n                hasAnyRole: false,\n                hasPanelAccess: false,\n            });\n            return;\n        }\n        user\n            .getIdTokenResult()\n            .then((tokenResult) => {\n            const claims = tokenResult.claims;\n            const permissions = {\n                isOperator: Boolean(claims['operator']),\n                isAdmin: Boolean(claims['admin']),\n                isSudo: Boolean(claims['sudo']),\n                isTrainer: Boolean(claims['trainer']),\n                hasAnyRole: Boolean(claims['operator'] || claims['admin'] || claims['sudo'] || claims['trainer']),\n                hasPanelAccess: Boolean(claims['operator'] || claims['admin'] || claims['sudo']),\n            };\n            this.permissionsSubject.next(permissions);\n        })\n            .catch(() => {\n            this.permissionsSubject.next({\n                isOperator: false,\n                isAdmin: false,\n                isSudo: false,\n                isTrainer: false,\n                hasAnyRole: false,\n                hasPanelAccess: false,\n            });\n        });\n    }\n    hasAllowedDomain() {\n        if (!this.config?.allowedDomain) {\n            return true;\n        }\n        const user = this.auth.currentUser;\n        if (!user?.email) {\n            return false;\n        }\n        return user.email.endsWith(this.config.allowedDomain);\n    }\n    checkPermissions() {\n        return this.permissionsSubject.value;\n    }\n    getCurrentClaims() {\n        const user = this.auth.currentUser;\n        if (!user) {\n            return null;\n        }\n        return user\n            .getIdTokenResult()\n            .then((tokenResult) => tokenResult.claims)\n            .catch(() => null);\n    }\n    isAdmin() {\n        return this.permissions$.pipe(map((p) => p.isAdmin));\n    }\n    hasPanelAccess() {\n        return this.permissions$.pipe(map((p) => p.hasPanelAccess));\n    }\n    isTrainer() {\n        return this.permissions$.pipe(map((p) => p.isTrainer));\n    }\n    register(email, password, clientData) {\n        if (!this.config?.enableClientRegistration) {\n            return from(Promise.reject(new Error('Client registration is disabled')));\n        }\n        return from(createUserWithEmailAndPassword(this.auth, email, password)).pipe(switchMap((userCredential) => {\n            const user = userCredential.user;\n            if (!user) {\n                return from(Promise.resolve());\n            }\n            return from(user.getIdToken()).pipe(switchMap((token) => {\n                const displayName = `${clientData.first_name} ${clientData.last_name}`.trim();\n                return from(updateProfile(user, { displayName })).pipe(switchMap(() => this.registerClient(token, user, {\n                    first_name: clientData.first_name,\n                    last_name: clientData.last_name,\n                    document: clientData.document,\n                    document_type_id: clientData.document_type_id,\n                    email: user.email ?? email,\n                    phone_number: clientData.phone_number,\n                })));\n            }));\n        }), switchMap(() => from(Promise.resolve())));\n    }\n    registerClient(token, user, client) {\n        if (!this.config) {\n            return from(Promise.reject(new Error('AuthService not initialized')));\n        }\n        const data = {\n            email: user.email ?? '',\n            display_name: user.displayName ?? '',\n            phone_number: client.phone_number,\n            first_name: client.first_name ?? '',\n            last_name: client.last_name ?? '',\n            document: client.document ?? '',\n            document_type_id: client.document_type_id ?? 1,\n        };\n        const headers = new HttpHeaders({\n            Authorization: `Bearer ${token}`,\n        });\n        return this.http.post(`${this.config.apiUrl}/account/client`, data, { headers });\n    }\n    login(email, password) {\n        return from(signInWithEmailAndPassword(this.auth, email, password).then(() => void 0));\n    }\n    logout() {\n        return from(signOut(this.auth));\n    }\n    sendPasswordResetEmail(email) {\n        return from(sendPasswordResetEmail(this.auth, email));\n    }\n    updatePassword(newPassword, currentPassword) {\n        const user = this.auth.currentUser;\n        if (!user || !user.email) {\n            return from(Promise.reject(new Error('No hay usuario autenticado')));\n        }\n        if (currentPassword) {\n            const credential = EmailAuthProvider.credential(user.email, currentPassword);\n            return from(reauthenticateWithCredential(user, credential)).pipe(switchMap(() => from(updatePassword(user, newPassword))));\n        }\n        return from(updatePassword(user, newPassword));\n    }\n    confirmPasswordReset(oobCode, newPassword) {\n        return from(confirmPasswordReset(this.auth, oobCode, newPassword));\n    }\n    refreshToken() {\n        const user = this.auth.currentUser;\n        if (!user) {\n            return from(Promise.reject(new Error('No hay usuario autenticado')));\n        }\n        return from(user.getIdToken(true));\n    }\n    get currentUser() {\n        return this.auth.currentUser;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: AuthService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: AuthService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: AuthService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [] });","originalLength":7443,"removedExports":[],"renderedExports":["AuthService"],"renderedLength":6889},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/relay.service.js":{"code":"class RelayService {\n    authService = inject(AuthService);\n    config = null;\n    socket = null;\n    readySubject = new BehaviorSubject(false);\n    systemEventsSubject = new Subject();\n    destroy$ = new Subject();\n    ready$ = this.readySubject.asObservable();\n    systemEvents$ = this.systemEventsSubject.asObservable();\n    initialize(authService, config) {\n        this.config = config;\n        this.connect(authService);\n    }\n    connect(authService) {\n        if (!this.config) {\n            return;\n        }\n        authService.authState$\n            .pipe(switchMap$1((user) => {\n            if (!user) {\n                this.disconnect();\n                return from(Promise.resolve(null));\n            }\n            return from(user.getIdToken());\n        }), takeUntil(this.destroy$))\n            .subscribe((token) => {\n            if (token && this.config) {\n                this.connectSocket(token);\n            }\n            else {\n                this.disconnect();\n            }\n        });\n    }\n    connectSocket(token) {\n        if (!this.config) {\n            return;\n        }\n        if (this.socket?.connected) {\n            return;\n        }\n        this.disconnect();\n        const relayUrl = this.config.relayUrl.endsWith('/realtime')\n            ? this.config.relayUrl\n            : `${this.config.relayUrl}/realtime`;\n        this.socket = io(relayUrl, {\n            auth: {\n                token,\n            },\n            extraHeaders: {\n                Authorization: `Bearer ${token}`,\n            },\n            transports: ['websocket', 'polling'],\n        });\n        this.socket.on('connect', () => {\n            // Solo cuando el socket está conectado, escuchamos el evento 'connected' del servidor\n            this.socket?.once('connected', (data) => {\n                if (this.socket?.connected) {\n                    this.readySubject.next(true);\n                }\n            });\n        });\n        this.socket.on('disconnect', () => {\n            this.readySubject.next(false);\n        });\n        this.socket.on('system', (data) => {\n            this.systemEventsSubject.next(data);\n        });\n        this.socket.on('connect_error', (error) => {\n            console.error('[RelayService] ❌ Connection error:', error.message || error);\n            this.readySubject.next(false);\n        });\n    }\n    disconnect() {\n        if (this.socket) {\n            this.socket.disconnect();\n            this.socket = null;\n            this.readySubject.next(false);\n        }\n    }\n    joinRoom(room, callback) {\n        if (!this.socket) {\n            callback({ success: false, message: 'Socket not initialized' });\n            return;\n        }\n        if (this.readySubject.value && this.socket.connected) {\n            this.emitJoinRoom(room, callback);\n            return;\n        }\n        this.ready$\n            .pipe(filter((ready) => ready === true), take(1), takeUntil(this.destroy$))\n            .subscribe({\n            next: () => {\n                if (this.socket?.connected) {\n                    this.emitJoinRoom(room, callback);\n                }\n                else {\n                    callback({\n                        success: false,\n                        message: 'Socket disconnected while waiting for authentication',\n                    });\n                }\n            },\n        });\n    }\n    emitJoinRoom(room, callback) {\n        if (!this.socket?.connected) {\n            callback({ success: false, message: 'Socket not connected' });\n            return;\n        }\n        this.socket.emit('unirse', { room }, (response) => {\n            if (response instanceof Error) {\n                callback({ success: false, message: response.message || 'Unknown error' });\n                return;\n            }\n            if (!response || !response.success) {\n                callback({\n                    success: false,\n                    message: response?.message || 'Failed to join room',\n                });\n                return;\n            }\n            callback(response);\n        });\n    }\n    identify(userId, callback) {\n        if (!this.socket?.connected) {\n            callback?.({ success: false });\n            return;\n        }\n        this.socket.emit('identificar', { userId }, (response) => {\n            callback?.(response);\n        });\n    }\n    notify(data, destino, room) {\n        if (!this.socket?.connected) {\n            return;\n        }\n        const payload = {\n            data,\n            destino,\n        };\n        if (destino === 'room' && room) {\n            payload.room = room;\n        }\n        this.socket.emit('notificar', payload);\n    }\n    sendMessage(data, destino, room) {\n        if (!this.socket?.connected) {\n            return;\n        }\n        const payload = {\n            data,\n            destino,\n        };\n        if (destino === 'room' && room) {\n            payload.room = room;\n        }\n        this.socket.emit('relay', payload);\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n        this.disconnect();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: RelayService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: RelayService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: RelayService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });","originalLength":5999,"removedExports":[],"renderedExports":["RelayService"],"renderedLength":5654},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/toast.service.js":{"code":"class ToastService {\n    toasts = signal([], ...(ngDevMode ? [{ debugName: \"toasts\" }] : []));\n    success(message) {\n        this.show(message, 'success');\n    }\n    error(message) {\n        this.show(message, 'error');\n    }\n    warning(message) {\n        this.show(message, 'warning');\n    }\n    info(message) {\n        this.show(message, 'info');\n    }\n    show(message, type) {\n        const toast = {\n            id: crypto.randomUUID(),\n            message,\n            type,\n        };\n        this.toasts.update((list) => [...list, toast]);\n        setTimeout(() => this.dismiss(toast.id), 5000);\n    }\n    dismiss(id) {\n        this.toasts.update((list) => list.filter((t) => t.id !== id));\n    }\n    getToasts() {\n        return this.toasts.asReadonly();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });","originalLength":1432,"removedExports":[],"renderedExports":["ToastService"],"renderedLength":1294},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/services/index.js":{"code":"","originalLength":131,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/components/toast-container/toast-container.component.js":{"code":"class ToastContainerComponent {\n    toastService = inject(ToastService);\n    toasts = this.toastService.getToasts();\n    dismiss(id) {\n        this.toastService.dismiss(id);\n    }\n    getToastClasses(type) {\n        const base = 'text-white';\n        const colors = {\n            success: 'bg-green-500',\n            error: 'bg-red-500',\n            warning: 'bg-yellow-500',\n            info: 'bg-blue-500',\n        };\n        return `${base} ${colors[type]}`;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"21.0.6\", type: ToastContainerComponent, isStandalone: true, selector: \"ust-toast-container\", ngImport: i0, template: `\n    <div class=\"fixed bottom-4 right-4 z-50 space-y-2\">\n      @for (toast of toasts(); track toast.id) {\n        <div\n          [class]=\"getToastClasses(toast.type)\"\n          class=\"px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] animate-in slide-in-from-right fade-in\"\n        >\n          <span class=\"flex-1\">{{ toast.message }}</span>\n          <button (click)=\"dismiss(toast.id)\" class=\"text-white/80 hover:text-white\">×</button>\n        </div>\n      }\n    </div>\n  `, isInline: true, dependencies: [{ kind: \"ngmodule\", type: CommonModule }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ust-toast-container',\n                    imports: [CommonModule],\n                    template: `\n    <div class=\"fixed bottom-4 right-4 z-50 space-y-2\">\n      @for (toast of toasts(); track toast.id) {\n        <div\n          [class]=\"getToastClasses(toast.type)\"\n          class=\"px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] animate-in slide-in-from-right fade-in\"\n        >\n          <span class=\"flex-1\">{{ toast.message }}</span>\n          <button (click)=\"dismiss(toast.id)\" class=\"text-white/80 hover:text-white\">×</button>\n        </div>\n      }\n    </div>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }] });","originalLength":2659,"removedExports":[],"renderedExports":["ToastContainerComponent"],"renderedLength":2376},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/lib/components/toast-container/index.js":{"code":"","originalLength":78,"removedExports":[],"renderedExports":[],"renderedLength":0},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/public-api.js":{"code":"/*\n * Public API Surface of common\n */","originalLength":248,"removedExports":[],"renderedExports":[],"renderedLength":38},"/home/alejandro/Desarrollo/unosportclub/dist/common/tmp-esm2022/common.js":{"code":"/**\n * Generated bundle index. Do not edit.\n */","originalLength":112,"removedExports":[],"renderedExports":[],"renderedLength":47}},"referencedFiles":[],"code":"import { HttpErrorResponse, HttpClient, HttpHeaders } from '@angular/common/http';\nimport * as i0 from '@angular/core';\nimport { inject, signal, Injectable, ChangeDetectionStrategy, Component } from '@angular/core';\nimport { Auth, authState, createUserWithEmailAndPassword, updateProfile, signInWithEmailAndPassword, signOut, sendPasswordResetEmail, EmailAuthProvider, reauthenticateWithCredential, updatePassword, confirmPasswordReset } from '@angular/fire/auth';\nimport { BehaviorSubject, from, switchMap, Subject } from 'rxjs';\nimport { map, switchMap as switchMap$1, takeUntil, filter, take } from 'rxjs/operators';\nimport { io } from 'socket.io-client';\nimport { CommonModule } from '@angular/common';\n\nfunction extractErrorMessage(error) {\n    if (error instanceof HttpErrorResponse) {\n        if (error.error) {\n            if (typeof error.error === 'string') {\n                return error.error;\n            }\n            if (typeof error.error === 'object' && error.error !== null) {\n                const errorObj = error.error;\n                return (errorObj.message || errorObj.error || error.message || 'Error al procesar la solicitud');\n            }\n        }\n        return error.message || 'Error al procesar la solicitud';\n    }\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error === 'object' && error !== null && 'message' in error) {\n        const errorObj = error;\n        return errorObj.message;\n    }\n    return 'Error desconocido';\n}\n\nclass AuthService {\n    auth = inject(Auth);\n    http = inject(HttpClient);\n    config = null;\n    permissionsSubject = new BehaviorSubject({\n        isOperator: false,\n        isAdmin: false,\n        isSudo: false,\n        isTrainer: false,\n        hasAnyRole: false,\n        hasPanelAccess: false,\n    });\n    authState$ = authState(this.auth);\n    permissions$ = this.permissionsSubject.asObservable();\n    currentUserSignal = signal(null, ...(ngDevMode ? [{ debugName: \"currentUserSignal\" }] : []));\n    constructor() {\n        this.authState$.subscribe((user) => {\n            this.currentUserSignal.set(user);\n            if (this.config?.enablePermissions) {\n                this.updatePermissions(user);\n            }\n        });\n    }\n    initialize(config) {\n        this.config = config;\n        if (config.enablePermissions) {\n            this.updatePermissions(this.auth.currentUser);\n        }\n    }\n    updatePermissions(user) {\n        if (!user) {\n            this.permissionsSubject.next({\n                isOperator: false,\n                isAdmin: false,\n                isSudo: false,\n                isTrainer: false,\n                hasAnyRole: false,\n                hasPanelAccess: false,\n            });\n            return;\n        }\n        user\n            .getIdTokenResult()\n            .then((tokenResult) => {\n            const claims = tokenResult.claims;\n            const permissions = {\n                isOperator: Boolean(claims['operator']),\n                isAdmin: Boolean(claims['admin']),\n                isSudo: Boolean(claims['sudo']),\n                isTrainer: Boolean(claims['trainer']),\n                hasAnyRole: Boolean(claims['operator'] || claims['admin'] || claims['sudo'] || claims['trainer']),\n                hasPanelAccess: Boolean(claims['operator'] || claims['admin'] || claims['sudo']),\n            };\n            this.permissionsSubject.next(permissions);\n        })\n            .catch(() => {\n            this.permissionsSubject.next({\n                isOperator: false,\n                isAdmin: false,\n                isSudo: false,\n                isTrainer: false,\n                hasAnyRole: false,\n                hasPanelAccess: false,\n            });\n        });\n    }\n    hasAllowedDomain() {\n        if (!this.config?.allowedDomain) {\n            return true;\n        }\n        const user = this.auth.currentUser;\n        if (!user?.email) {\n            return false;\n        }\n        return user.email.endsWith(this.config.allowedDomain);\n    }\n    checkPermissions() {\n        return this.permissionsSubject.value;\n    }\n    getCurrentClaims() {\n        const user = this.auth.currentUser;\n        if (!user) {\n            return null;\n        }\n        return user\n            .getIdTokenResult()\n            .then((tokenResult) => tokenResult.claims)\n            .catch(() => null);\n    }\n    isAdmin() {\n        return this.permissions$.pipe(map((p) => p.isAdmin));\n    }\n    hasPanelAccess() {\n        return this.permissions$.pipe(map((p) => p.hasPanelAccess));\n    }\n    isTrainer() {\n        return this.permissions$.pipe(map((p) => p.isTrainer));\n    }\n    register(email, password, clientData) {\n        if (!this.config?.enableClientRegistration) {\n            return from(Promise.reject(new Error('Client registration is disabled')));\n        }\n        return from(createUserWithEmailAndPassword(this.auth, email, password)).pipe(switchMap((userCredential) => {\n            const user = userCredential.user;\n            if (!user) {\n                return from(Promise.resolve());\n            }\n            return from(user.getIdToken()).pipe(switchMap((token) => {\n                const displayName = `${clientData.first_name} ${clientData.last_name}`.trim();\n                return from(updateProfile(user, { displayName })).pipe(switchMap(() => this.registerClient(token, user, {\n                    first_name: clientData.first_name,\n                    last_name: clientData.last_name,\n                    document: clientData.document,\n                    document_type_id: clientData.document_type_id,\n                    email: user.email ?? email,\n                    phone_number: clientData.phone_number,\n                })));\n            }));\n        }), switchMap(() => from(Promise.resolve())));\n    }\n    registerClient(token, user, client) {\n        if (!this.config) {\n            return from(Promise.reject(new Error('AuthService not initialized')));\n        }\n        const data = {\n            email: user.email ?? '',\n            display_name: user.displayName ?? '',\n            phone_number: client.phone_number,\n            first_name: client.first_name ?? '',\n            last_name: client.last_name ?? '',\n            document: client.document ?? '',\n            document_type_id: client.document_type_id ?? 1,\n        };\n        const headers = new HttpHeaders({\n            Authorization: `Bearer ${token}`,\n        });\n        return this.http.post(`${this.config.apiUrl}/account/client`, data, { headers });\n    }\n    login(email, password) {\n        return from(signInWithEmailAndPassword(this.auth, email, password).then(() => void 0));\n    }\n    logout() {\n        return from(signOut(this.auth));\n    }\n    sendPasswordResetEmail(email) {\n        return from(sendPasswordResetEmail(this.auth, email));\n    }\n    updatePassword(newPassword, currentPassword) {\n        const user = this.auth.currentUser;\n        if (!user || !user.email) {\n            return from(Promise.reject(new Error('No hay usuario autenticado')));\n        }\n        if (currentPassword) {\n            const credential = EmailAuthProvider.credential(user.email, currentPassword);\n            return from(reauthenticateWithCredential(user, credential)).pipe(switchMap(() => from(updatePassword(user, newPassword))));\n        }\n        return from(updatePassword(user, newPassword));\n    }\n    confirmPasswordReset(oobCode, newPassword) {\n        return from(confirmPasswordReset(this.auth, oobCode, newPassword));\n    }\n    refreshToken() {\n        const user = this.auth.currentUser;\n        if (!user) {\n            return from(Promise.reject(new Error('No hay usuario autenticado')));\n        }\n        return from(user.getIdToken(true));\n    }\n    get currentUser() {\n        return this.auth.currentUser;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: AuthService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: AuthService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: AuthService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: () => [] });\n\nclass RelayService {\n    authService = inject(AuthService);\n    config = null;\n    socket = null;\n    readySubject = new BehaviorSubject(false);\n    systemEventsSubject = new Subject();\n    destroy$ = new Subject();\n    ready$ = this.readySubject.asObservable();\n    systemEvents$ = this.systemEventsSubject.asObservable();\n    initialize(authService, config) {\n        this.config = config;\n        this.connect(authService);\n    }\n    connect(authService) {\n        if (!this.config) {\n            return;\n        }\n        authService.authState$\n            .pipe(switchMap$1((user) => {\n            if (!user) {\n                this.disconnect();\n                return from(Promise.resolve(null));\n            }\n            return from(user.getIdToken());\n        }), takeUntil(this.destroy$))\n            .subscribe((token) => {\n            if (token && this.config) {\n                this.connectSocket(token);\n            }\n            else {\n                this.disconnect();\n            }\n        });\n    }\n    connectSocket(token) {\n        if (!this.config) {\n            return;\n        }\n        if (this.socket?.connected) {\n            return;\n        }\n        this.disconnect();\n        const relayUrl = this.config.relayUrl.endsWith('/realtime')\n            ? this.config.relayUrl\n            : `${this.config.relayUrl}/realtime`;\n        this.socket = io(relayUrl, {\n            auth: {\n                token,\n            },\n            extraHeaders: {\n                Authorization: `Bearer ${token}`,\n            },\n            transports: ['websocket', 'polling'],\n        });\n        this.socket.on('connect', () => {\n            // Solo cuando el socket está conectado, escuchamos el evento 'connected' del servidor\n            this.socket?.once('connected', (data) => {\n                if (this.socket?.connected) {\n                    this.readySubject.next(true);\n                }\n            });\n        });\n        this.socket.on('disconnect', () => {\n            this.readySubject.next(false);\n        });\n        this.socket.on('system', (data) => {\n            this.systemEventsSubject.next(data);\n        });\n        this.socket.on('connect_error', (error) => {\n            console.error('[RelayService] ❌ Connection error:', error.message || error);\n            this.readySubject.next(false);\n        });\n    }\n    disconnect() {\n        if (this.socket) {\n            this.socket.disconnect();\n            this.socket = null;\n            this.readySubject.next(false);\n        }\n    }\n    joinRoom(room, callback) {\n        if (!this.socket) {\n            callback({ success: false, message: 'Socket not initialized' });\n            return;\n        }\n        if (this.readySubject.value && this.socket.connected) {\n            this.emitJoinRoom(room, callback);\n            return;\n        }\n        this.ready$\n            .pipe(filter((ready) => ready === true), take(1), takeUntil(this.destroy$))\n            .subscribe({\n            next: () => {\n                if (this.socket?.connected) {\n                    this.emitJoinRoom(room, callback);\n                }\n                else {\n                    callback({\n                        success: false,\n                        message: 'Socket disconnected while waiting for authentication',\n                    });\n                }\n            },\n        });\n    }\n    emitJoinRoom(room, callback) {\n        if (!this.socket?.connected) {\n            callback({ success: false, message: 'Socket not connected' });\n            return;\n        }\n        this.socket.emit('unirse', { room }, (response) => {\n            if (response instanceof Error) {\n                callback({ success: false, message: response.message || 'Unknown error' });\n                return;\n            }\n            if (!response || !response.success) {\n                callback({\n                    success: false,\n                    message: response?.message || 'Failed to join room',\n                });\n                return;\n            }\n            callback(response);\n        });\n    }\n    identify(userId, callback) {\n        if (!this.socket?.connected) {\n            callback?.({ success: false });\n            return;\n        }\n        this.socket.emit('identificar', { userId }, (response) => {\n            callback?.(response);\n        });\n    }\n    notify(data, destino, room) {\n        if (!this.socket?.connected) {\n            return;\n        }\n        const payload = {\n            data,\n            destino,\n        };\n        if (destino === 'room' && room) {\n            payload.room = room;\n        }\n        this.socket.emit('notificar', payload);\n    }\n    sendMessage(data, destino, room) {\n        if (!this.socket?.connected) {\n            return;\n        }\n        const payload = {\n            data,\n            destino,\n        };\n        if (destino === 'room' && room) {\n            payload.room = room;\n        }\n        this.socket.emit('relay', payload);\n    }\n    ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n        this.disconnect();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: RelayService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: RelayService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: RelayService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }] });\n\nclass ToastService {\n    toasts = signal([], ...(ngDevMode ? [{ debugName: \"toasts\" }] : []));\n    success(message) {\n        this.show(message, 'success');\n    }\n    error(message) {\n        this.show(message, 'error');\n    }\n    warning(message) {\n        this.show(message, 'warning');\n    }\n    info(message) {\n        this.show(message, 'info');\n    }\n    show(message, type) {\n        const toast = {\n            id: crypto.randomUUID(),\n            message,\n            type,\n        };\n        this.toasts.update((list) => [...list, toast]);\n        setTimeout(() => this.dismiss(toast.id), 5000);\n    }\n    dismiss(id) {\n        this.toasts.update((list) => list.filter((t) => t.id !== id));\n    }\n    getToasts() {\n        return this.toasts.asReadonly();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastService, providedIn: 'root' });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nclass ToastContainerComponent {\n    toastService = inject(ToastService);\n    toasts = this.toastService.getToasts();\n    dismiss(id) {\n        this.toastService.dismiss(id);\n    }\n    getToastClasses(type) {\n        const base = 'text-white';\n        const colors = {\n            success: 'bg-green-500',\n            error: 'bg-red-500',\n            warning: 'bg-yellow-500',\n            info: 'bg-blue-500',\n        };\n        return `${base} ${colors[type]}`;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"17.0.0\", version: \"21.0.6\", type: ToastContainerComponent, isStandalone: true, selector: \"ust-toast-container\", ngImport: i0, template: `\n    <div class=\"fixed bottom-4 right-4 z-50 space-y-2\">\n      @for (toast of toasts(); track toast.id) {\n        <div\n          [class]=\"getToastClasses(toast.type)\"\n          class=\"px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] animate-in slide-in-from-right fade-in\"\n        >\n          <span class=\"flex-1\">{{ toast.message }}</span>\n          <button (click)=\"dismiss(toast.id)\" class=\"text-white/80 hover:text-white\">×</button>\n        </div>\n      }\n    </div>\n  `, isInline: true, dependencies: [{ kind: \"ngmodule\", type: CommonModule }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"21.0.6\", ngImport: i0, type: ToastContainerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'ust-toast-container',\n                    imports: [CommonModule],\n                    template: `\n    <div class=\"fixed bottom-4 right-4 z-50 space-y-2\">\n      @for (toast of toasts(); track toast.id) {\n        <div\n          [class]=\"getToastClasses(toast.type)\"\n          class=\"px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] animate-in slide-in-from-right fade-in\"\n        >\n          <span class=\"flex-1\">{{ toast.message }}</span>\n          <button (click)=\"dismiss(toast.id)\" class=\"text-white/80 hover:text-white\">×</button>\n        </div>\n      }\n    </div>\n  `,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }] });\n\n/*\n * Public API Surface of common\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AuthService, RelayService, ToastContainerComponent, ToastService, extractErrorMessage };\n//# sourceMappingURL=common.mjs.map\n","map":null,"preliminaryFileName":"common.mjs","sourcemapFileName":"common.mjs.map"},{"fileName":"common.mjs.map","names":[],"needsCodeReference":false,"originalFileName":null,"originalFileNames":[],"source":"{\"version\":3,\"file\":\"common.mjs\",\"sources\":[\"../../../projects/common/src/lib/errors/errors.interface.ts\",\"../../../projects/common/src/lib/services/auth.service.ts\",\"../../../projects/common/src/lib/services/relay.service.ts\",\"../../../projects/common/src/lib/services/toast.service.ts\",\"../../../projects/common/src/lib/components/toast-container/toast-container.component.ts\",\"../../../projects/common/src/public-api.ts\",\"../../../projects/common/src/common.ts\"],\"sourcesContent\":[\"import { HttpErrorResponse } from '@angular/common/http';\\n\\nexport interface ErrorResponseInterface {\\n  error: string;\\n  message?: string;\\n  stack?: string;\\n}\\n\\nexport interface HttpError {\\n  status: number;\\n  statusText: string;\\n  message: string;\\n  error: ErrorResponseInterface;\\n  originalError: HttpErrorResponse;\\n  context?: {\\n    resource?: string;\\n    operation?: string;\\n    isSearch?: boolean;\\n  };\\n}\\n\\nexport function extractErrorMessage(\\n  error: HttpErrorResponse | Error | HttpError | unknown,\\n): string {\\n  if (error instanceof HttpErrorResponse) {\\n    if (error.error) {\\n      if (typeof error.error === 'string') {\\n        return error.error;\\n      }\\n      if (typeof error.error === 'object' && error.error !== null) {\\n        const errorObj = error.error as { error?: string; message?: string };\\n        return (\\n          errorObj.message || errorObj.error || error.message || 'Error al procesar la solicitud'\\n        );\\n      }\\n    }\\n    return error.message || 'Error al procesar la solicitud';\\n  }\\n\\n  if (error instanceof Error) {\\n    return error.message;\\n  }\\n\\n  if (typeof error === 'object' && error !== null && 'message' in error) {\\n    const errorObj = error as { message: string };\\n    return errorObj.message;\\n  }\\n\\n  return 'Error desconocido';\\n}\\n\",\"import { HttpClient, HttpHeaders } from '@angular/common/http';\\nimport { Injectable, inject, signal, computed } from '@angular/core';\\nimport {\\n  Auth,\\n  EmailAuthProvider,\\n  User,\\n  authState,\\n  confirmPasswordReset,\\n  createUserWithEmailAndPassword,\\n  reauthenticateWithCredential,\\n  sendPasswordResetEmail,\\n  signInWithEmailAndPassword,\\n  signOut,\\n  updatePassword,\\n  updateProfile,\\n} from '@angular/fire/auth';\\nimport { Observable, from, switchMap, BehaviorSubject, of } from 'rxjs';\\nimport { map } from 'rxjs/operators';\\n\\nexport interface AuthClientInterface {\\n  first_name: string;\\n  last_name: string;\\n  document: string;\\n  document_type_id: number;\\n  display_name?: string;\\n  email: string;\\n  phone_number?: string;\\n  [key: string]: unknown;\\n}\\n\\nexport interface AuthServiceConfig {\\n  apiUrl: string;\\n  allowedDomain?: string;\\n  enablePermissions?: boolean;\\n  enableClientRegistration?: boolean;\\n  enableSignalCurrentUser?: boolean;\\n}\\n\\nexport interface Permissions {\\n  isOperator: boolean;\\n  isAdmin: boolean;\\n  isSudo: boolean;\\n  isTrainer: boolean;\\n  hasAnyRole: boolean;\\n  hasPanelAccess: boolean;\\n}\\n\\n@Injectable({\\n  providedIn: 'root',\\n})\\nexport class AuthService {\\n  private readonly auth = inject(Auth);\\n  private readonly http = inject(HttpClient);\\n  private config: AuthServiceConfig | null = null;\\n  private readonly permissionsSubject = new BehaviorSubject<Permissions>({\\n    isOperator: false,\\n    isAdmin: false,\\n    isSudo: false,\\n    isTrainer: false,\\n    hasAnyRole: false,\\n    hasPanelAccess: false,\\n  });\\n\\n  readonly authState$: Observable<User | null> = authState(this.auth);\\n  readonly permissions$ = this.permissionsSubject.asObservable();\\n  readonly currentUserSignal = signal<User | null>(null);\\n\\n  constructor() {\\n    this.authState$.subscribe((user) => {\\n      this.currentUserSignal.set(user);\\n      if (this.config?.enablePermissions) {\\n        this.updatePermissions(user);\\n      }\\n    });\\n  }\\n\\n  initialize(config: AuthServiceConfig): void {\\n    this.config = config;\\n    if (config.enablePermissions) {\\n      this.updatePermissions(this.auth.currentUser);\\n    }\\n  }\\n\\n  private updatePermissions(user: User | null): void {\\n    if (!user) {\\n      this.permissionsSubject.next({\\n        isOperator: false,\\n        isAdmin: false,\\n        isSudo: false,\\n        isTrainer: false,\\n        hasAnyRole: false,\\n        hasPanelAccess: false,\\n      });\\n      return;\\n    }\\n\\n    user\\n      .getIdTokenResult()\\n      .then((tokenResult) => {\\n        const claims = tokenResult.claims;\\n        const permissions: Permissions = {\\n          isOperator: Boolean(claims['operator']),\\n          isAdmin: Boolean(claims['admin']),\\n          isSudo: Boolean(claims['sudo']),\\n          isTrainer: Boolean(claims['trainer']),\\n          hasAnyRole: Boolean(\\n            claims['operator'] || claims['admin'] || claims['sudo'] || claims['trainer'],\\n          ),\\n          hasPanelAccess: Boolean(claims['operator'] || claims['admin'] || claims['sudo']),\\n        };\\n        this.permissionsSubject.next(permissions);\\n      })\\n      .catch(() => {\\n        this.permissionsSubject.next({\\n          isOperator: false,\\n          isAdmin: false,\\n          isSudo: false,\\n          isTrainer: false,\\n          hasAnyRole: false,\\n          hasPanelAccess: false,\\n        });\\n      });\\n  }\\n\\n  hasAllowedDomain(): boolean {\\n    if (!this.config?.allowedDomain) {\\n      return true;\\n    }\\n    const user = this.auth.currentUser;\\n    if (!user?.email) {\\n      return false;\\n    }\\n    return user.email.endsWith(this.config.allowedDomain);\\n  }\\n\\n  checkPermissions(): Permissions {\\n    return this.permissionsSubject.value;\\n  }\\n\\n  getCurrentClaims(): Record<string, unknown> | null {\\n    const user = this.auth.currentUser;\\n    if (!user) {\\n      return null;\\n    }\\n    return user\\n      .getIdTokenResult()\\n      .then((tokenResult) => tokenResult.claims)\\n      .catch(() => null) as unknown as Record<string, unknown> | null;\\n  }\\n\\n  isAdmin(): Observable<boolean> {\\n    return this.permissions$.pipe(map((p) => p.isAdmin));\\n  }\\n\\n  hasPanelAccess(): Observable<boolean> {\\n    return this.permissions$.pipe(map((p) => p.hasPanelAccess));\\n  }\\n\\n  isTrainer(): Observable<boolean> {\\n    return this.permissions$.pipe(map((p) => p.isTrainer));\\n  }\\n\\n  register(email: string, password: string, clientData: AuthClientInterface): Observable<void> {\\n    if (!this.config?.enableClientRegistration) {\\n      return from(Promise.reject(new Error('Client registration is disabled')));\\n    }\\n\\n    return from(createUserWithEmailAndPassword(this.auth, email, password)).pipe(\\n      switchMap((userCredential) => {\\n        const user = userCredential.user;\\n        if (!user) {\\n          return from(Promise.resolve());\\n        }\\n        return from(user.getIdToken()).pipe(\\n          switchMap((token) => {\\n            const displayName = `${clientData.first_name} ${clientData.last_name}`.trim();\\n            return from(updateProfile(user, { displayName })).pipe(\\n              switchMap(() =>\\n                this.registerClient(token, user, {\\n                  first_name: clientData.first_name,\\n                  last_name: clientData.last_name,\\n                  document: clientData.document,\\n                  document_type_id: clientData.document_type_id,\\n                  email: user.email ?? email,\\n                  phone_number: clientData.phone_number,\\n                }),\\n              ),\\n            );\\n          }),\\n        );\\n      }),\\n      switchMap(() => from(Promise.resolve())),\\n    );\\n  }\\n\\n  registerClient(token: string, user: User, client: AuthClientInterface): Observable<unknown> {\\n    if (!this.config) {\\n      return from(Promise.reject(new Error('AuthService not initialized')));\\n    }\\n\\n    const data = {\\n      email: user.email ?? '',\\n      display_name: user.displayName ?? '',\\n      phone_number: client.phone_number,\\n      first_name: client.first_name ?? '',\\n      last_name: client.last_name ?? '',\\n      document: client.document ?? '',\\n      document_type_id: client.document_type_id ?? 1,\\n    };\\n\\n    const headers = new HttpHeaders({\\n      Authorization: `Bearer ${token}`,\\n    });\\n\\n    return this.http.post(`${this.config.apiUrl}/account/client`, data, { headers });\\n  }\\n\\n  login(email: string, password: string): Observable<void> {\\n    return from(signInWithEmailAndPassword(this.auth, email, password).then(() => void 0));\\n  }\\n\\n  logout(): Observable<void> {\\n    return from(signOut(this.auth));\\n  }\\n\\n  sendPasswordResetEmail(email: string): Observable<void> {\\n    return from(sendPasswordResetEmail(this.auth, email));\\n  }\\n\\n  updatePassword(newPassword: string, currentPassword?: string): Observable<void> {\\n    const user = this.auth.currentUser;\\n    if (!user || !user.email) {\\n      return from(Promise.reject(new Error('No hay usuario autenticado')));\\n    }\\n\\n    if (currentPassword) {\\n      const credential = EmailAuthProvider.credential(user.email, currentPassword);\\n      return from(reauthenticateWithCredential(user, credential)).pipe(\\n        switchMap(() => from(updatePassword(user, newPassword))),\\n      );\\n    }\\n\\n    return from(updatePassword(user, newPassword));\\n  }\\n\\n  confirmPasswordReset(oobCode: string, newPassword: string): Observable<void> {\\n    return from(confirmPasswordReset(this.auth, oobCode, newPassword));\\n  }\\n\\n  refreshToken(): Observable<string> {\\n    const user = this.auth.currentUser;\\n    if (!user) {\\n      return from(Promise.reject(new Error('No hay usuario autenticado')));\\n    }\\n    return from(user.getIdToken(true));\\n  }\\n\\n  get currentUser(): User | null {\\n    return this.auth.currentUser;\\n  }\\n}\\n\",\"import { Injectable, inject, OnDestroy } from '@angular/core';\\nimport { AuthService } from './auth.service';\\nimport { Observable, BehaviorSubject, from, Subject } from 'rxjs';\\nimport { takeUntil, switchMap, filter, take } from 'rxjs/operators';\\nimport { io, Socket } from 'socket.io-client';\\n\\nexport interface RelayServiceConfig {\\n  relayUrl: string;\\n  apiUrl: string;\\n}\\n\\nexport interface JoinRoomResponse {\\n  success: boolean;\\n  message?: string;\\n}\\n\\n@Injectable({\\n  providedIn: 'root',\\n})\\nexport class RelayService implements OnDestroy {\\n  private readonly authService = inject(AuthService);\\n  private config: RelayServiceConfig | null = null;\\n  private socket: Socket | null = null;\\n  private readonly readySubject = new BehaviorSubject<boolean>(false);\\n  private readonly systemEventsSubject = new Subject<unknown>();\\n  private readonly destroy$ = new Subject<void>();\\n\\n  readonly ready$ = this.readySubject.asObservable();\\n  readonly systemEvents$ = this.systemEventsSubject.asObservable();\\n\\n  initialize(authService: AuthService, config: RelayServiceConfig): void {\\n    this.config = config;\\n    this.connect(authService);\\n  }\\n\\n  private connect(authService: AuthService): void {\\n    if (!this.config) {\\n      return;\\n    }\\n\\n    authService.authState$\\n      .pipe(\\n        switchMap((user) => {\\n          if (!user) {\\n            this.disconnect();\\n            return from(Promise.resolve(null));\\n          }\\n          return from(user.getIdToken());\\n        }),\\n        takeUntil(this.destroy$),\\n      )\\n      .subscribe((token) => {\\n        if (token && this.config) {\\n          this.connectSocket(token);\\n        } else {\\n          this.disconnect();\\n        }\\n      });\\n  }\\n\\n  private connectSocket(token: string): void {\\n    if (!this.config) {\\n      return;\\n    }\\n\\n    if (this.socket?.connected) {\\n      return;\\n    }\\n\\n    this.disconnect();\\n\\n    const relayUrl = this.config.relayUrl.endsWith('/realtime')\\n      ? this.config.relayUrl\\n      : `${this.config.relayUrl}/realtime`;\\n\\n    this.socket = io(relayUrl, {\\n      auth: {\\n        token,\\n      },\\n      extraHeaders: {\\n        Authorization: `Bearer ${token}`,\\n      },\\n      transports: ['websocket', 'polling'],\\n    });\\n\\n    this.socket.on('connect', () => {\\n      // Solo cuando el socket está conectado, escuchamos el evento 'connected' del servidor\\n      this.socket?.once('connected', (data: { socketId: string; userId: string | null }) => {\\n        if (this.socket?.connected) {\\n          this.readySubject.next(true);\\n        }\\n      });\\n    });\\n\\n    this.socket.on('disconnect', () => {\\n      this.readySubject.next(false);\\n    });\\n\\n    this.socket.on('system', (data: unknown) => {\\n      this.systemEventsSubject.next(data);\\n    });\\n\\n    this.socket.on('connect_error', (error: Error) => {\\n      console.error('[RelayService] ❌ Connection error:', error.message || error);\\n      this.readySubject.next(false);\\n    });\\n  }\\n\\n  private disconnect(): void {\\n    if (this.socket) {\\n      this.socket.disconnect();\\n      this.socket = null;\\n      this.readySubject.next(false);\\n    }\\n  }\\n\\n  joinRoom(room: string, callback: (response: JoinRoomResponse) => void): void {\\n    if (!this.socket) {\\n      callback({ success: false, message: 'Socket not initialized' });\\n      return;\\n    }\\n\\n    if (this.readySubject.value && this.socket.connected) {\\n      this.emitJoinRoom(room, callback);\\n      return;\\n    }\\n\\n    this.ready$\\n      .pipe(\\n        filter((ready) => ready === true),\\n        take(1),\\n        takeUntil(this.destroy$),\\n      )\\n      .subscribe({\\n        next: () => {\\n          if (this.socket?.connected) {\\n            this.emitJoinRoom(room, callback);\\n          } else {\\n            callback({\\n              success: false,\\n              message: 'Socket disconnected while waiting for authentication',\\n            });\\n          }\\n        },\\n      });\\n  }\\n\\n  private emitJoinRoom(room: string, callback: (response: JoinRoomResponse) => void): void {\\n    if (!this.socket?.connected) {\\n      callback({ success: false, message: 'Socket not connected' });\\n      return;\\n    }\\n\\n    this.socket.emit('unirse', { room }, (response: JoinRoomResponse | Error) => {\\n      if (response instanceof Error) {\\n        callback({ success: false, message: response.message || 'Unknown error' });\\n        return;\\n      }\\n      if (!response || !response.success) {\\n        callback({\\n          success: false,\\n          message: (response as JoinRoomResponse)?.message || 'Failed to join room',\\n        });\\n        return;\\n      }\\n      callback(response as JoinRoomResponse);\\n    });\\n  }\\n\\n  identify(userId: string, callback?: (response: { success: boolean }) => void): void {\\n    if (!this.socket?.connected) {\\n      callback?.({ success: false });\\n      return;\\n    }\\n\\n    this.socket.emit('identificar', { userId }, (response: { success: boolean }) => {\\n      callback?.(response);\\n    });\\n  }\\n\\n  notify(data: unknown, destino: 'yo' | 'ustedes' | 'nosotros' | 'room', room?: string): void {\\n    if (!this.socket?.connected) {\\n      return;\\n    }\\n\\n    const payload: { data: unknown; destino: string; room?: string } = {\\n      data,\\n      destino,\\n    };\\n\\n    if (destino === 'room' && room) {\\n      payload.room = room;\\n    }\\n\\n    this.socket.emit('notificar', payload);\\n  }\\n\\n  sendMessage(data: unknown, destino: 'yo' | 'ustedes' | 'nosotros' | 'room', room?: string): void {\\n    if (!this.socket?.connected) {\\n      return;\\n    }\\n\\n    const payload: { data: unknown; destino: string; room?: string } = {\\n      data,\\n      destino,\\n    };\\n\\n    if (destino === 'room' && room) {\\n      payload.room = room;\\n    }\\n\\n    this.socket.emit('relay', payload);\\n  }\\n\\n  ngOnDestroy(): void {\\n    this.destroy$.next();\\n    this.destroy$.complete();\\n    this.disconnect();\\n  }\\n}\\n\",\"import { Injectable, signal } from '@angular/core';\\n\\nexport type ToastType = 'success' | 'error' | 'warning' | 'info';\\n\\nexport interface Toast {\\n  id: string;\\n  message: string;\\n  type: ToastType;\\n}\\n\\n@Injectable({ providedIn: 'root' })\\nexport class ToastService {\\n  private toasts = signal<Toast[]>([]);\\n\\n  success(message: string): void {\\n    this.show(message, 'success');\\n  }\\n\\n  error(message: string): void {\\n    this.show(message, 'error');\\n  }\\n\\n  warning(message: string): void {\\n    this.show(message, 'warning');\\n  }\\n\\n  info(message: string): void {\\n    this.show(message, 'info');\\n  }\\n\\n  private show(message: string, type: ToastType): void {\\n    const toast: Toast = {\\n      id: crypto.randomUUID(),\\n      message,\\n      type,\\n    };\\n    this.toasts.update((list) => [...list, toast]);\\n\\n    setTimeout(() => this.dismiss(toast.id), 5000);\\n  }\\n\\n  dismiss(id: string): void {\\n    this.toasts.update((list) => list.filter((t) => t.id !== id));\\n  }\\n\\n  getToasts() {\\n    return this.toasts.asReadonly();\\n  }\\n}\\n\",\"import { Component, inject, ChangeDetectionStrategy } from '@angular/core';\\nimport { CommonModule } from '@angular/common';\\nimport { ToastService, ToastType } from '../../services/toast.service';\\n\\n@Component({\\n  selector: 'ust-toast-container',\\n  imports: [CommonModule],\\n  template: `\\n    <div class=\\\"fixed bottom-4 right-4 z-50 space-y-2\\\">\\n      @for (toast of toasts(); track toast.id) {\\n        <div\\n          [class]=\\\"getToastClasses(toast.type)\\\"\\n          class=\\\"px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] animate-in slide-in-from-right fade-in\\\"\\n        >\\n          <span class=\\\"flex-1\\\">{{ toast.message }}</span>\\n          <button (click)=\\\"dismiss(toast.id)\\\" class=\\\"text-white/80 hover:text-white\\\">×</button>\\n        </div>\\n      }\\n    </div>\\n  `,\\n  changeDetection: ChangeDetectionStrategy.OnPush,\\n})\\nexport class ToastContainerComponent {\\n  private toastService = inject(ToastService);\\n  toasts = this.toastService.getToasts();\\n\\n  dismiss(id: string): void {\\n    this.toastService.dismiss(id);\\n  }\\n\\n  getToastClasses(type: ToastType): string {\\n    const base = 'text-white';\\n    const colors = {\\n      success: 'bg-green-500',\\n      error: 'bg-red-500',\\n      warning: 'bg-yellow-500',\\n      info: 'bg-blue-500',\\n    };\\n    return `${base} ${colors[type]}`;\\n  }\\n}\\n\",\"/*\\n * Public API Surface of common\\n */\\n\\nexport * from './lib/models';\\nexport * from './lib/errors';\\nexport * from './lib/tools';\\nexport * from './lib/services';\\nexport * from './lib/components/toast-container';\\n\",\"/**\\n * Generated bundle index. Do not edit.\\n */\\n\\nexport * from './public-api';\\n\"],\"names\":[\"switchMap\"],\"mappings\":\"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\"}","type":"asset"}]}